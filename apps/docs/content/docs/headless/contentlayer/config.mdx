---
title: Configuration
description: Learn how to use Contentlayer with Next Docs
---

Next Docs has native support for Contentlayer, and provides default
configuration with required MDX plugins.

## Setup

1. Edit your configuration.

```ts title="contentlayer.config.ts"
import { makeSource } from 'contentlayer/source-files'
import { defaultConfig } from 'next-docs-zeta/contentlayer/configuration'

export default makeSource(defaultConfig)
```

<Callout title="Note">
  Configuration file shouldn't be imported in anywhere.
</Callout>

2. Build the [Page Tree](/docs/headless/page-tree).

```ts
import { allDocs, allMeta } from 'contentlayer/generated'
import { createContentlayer } from 'next-docs-zeta/contentlayer'

export const { getPage, getPageUrl, tree } = createContentlayer(
  allMeta,
  allDocs
)
```

## Pages Structure

All files are located in `/content` and `/content/docs` for documentation pages.

<Cards>
  <Card
    title="Pages Structure"
    description="Learn how to structure your pages"
    href="/docs/headless/utils/build-page-tree#pages-structure"
  />
</Cards>

## Advanced

Next Docs Zeta also adds extra functionalities to Contentlayer, making it more
convenient to use and straightforward.

### Adding Icons

Configure icon handler via `resolveIcon` option.

```ts
import { allDocs, allMeta } from 'contentlayer/generated'
import { createContentlayer } from 'next-docs-zeta/contentlayer'

export const { getPage, getPageUrl, tree } = createContentlayer(
  allMeta,
  allDocs,
  {
    resolveIcon: icon => {
      // load icon from library
      const res = require('lucide-react')
      icon = icon.trim()

      if (res[icon]) return createElement(res[icon])
      return undefined
    }
  }
)
```
